<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
    <head>
        <title></title>
        <meta charset="utf-8">
        <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="../css/fonts/font-awesome.min.css">
        <link rel="stylesheet" href="../css/ui-box.css">
        <link rel="stylesheet" href="../css/ui-base.css">
        <link rel="stylesheet" href="../css/ui-color.css">
        <link rel="stylesheet" href="../css/appcan.icon.css">
        <link rel="stylesheet" href="../css/appcan.control.css">
    </head>
    <body ontouchstart>
        <div class="bc-bg" tabindex="0" data-control="PAGE" id="Page">
            <header-component v-bind:title="'当前资产'" v-bind:hasbackbtn="true"></header-component>
            <loading-component ></loading-component>
            <div class="dialog-container" v-show="showDialog"> 
                <div class="mask" v-on:click="showDialog=false"></div>
                <div class="dialog-panel">
                    <div class="ub ub-hor ub-f1 ulev-1 uinn ub-ac umh4" v-for="item in datailList" >
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.label}}</div>
                        <div class="umw1"></div>
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.value}}</div>
                    </div>
                </div>
            </div>
            <div data-control="CONTENT" id="ScrollContent">
            <div class="scrollbox">
                 <div class="ub uinn c-gra1 table-head">
                    <div class="ub-f1 ub-con ub-pc ub">序号</div>
                    <div class="umw1"></div>
                    <div class="ub-f1 ub-con ub-pc ub">编号</div>
                    <div class="umw1"></div>
                    <div class="ub-f1 ub-con ub-pc ub">名称</div>
                    <div class="umw1"></div>
                    <div class="ub-f1 ub-con ub-pc ub">数量</div>
                    <div class="umw1"></div>
                    <div class="ub-f1 ub-con ub-pc ub">单位</div>
                </div>
                <div>
                    <div class="ub ub-hor ub-f1 ulev-1 uinn ub-ac umh4" v-for="(item,index) in zcList" 
                           v-on:click="trClick(index)" >
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{index+1}}</div>
                        <div class="umw1"></div>
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.uuid}}</div>
                        <div class="umw1"></div>
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.mingch}}</div>
                        <div class="umw1"></div>
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.shul}}</div>
                        <div class="umw1"></div>
                        <div class="ub-f1 ub-con ub-ac ub-pc ub">{{item.danwei}}</div>
                    </div>
                </div>
                <div class="uinn uinn-at1">
                    <div class="button ub ub-ac bc-text-head ub-pc sc-btn uc-a1" v-on:click="closeView" >返回</div>
                </div>
            </div>
        </div>
        </div>
        <script src="../js/appcan.js"></script>
        <script src="../js/appcan.control.js"></script>
        <script src="../js/vue/vue.js"></script>
        <script src="../js/common.js"></script>
        <script>
(function(){
//详情页需要显示的字段
var datailColumns = {mingch:"名称",ggxh:"规格",shul:"数量",ppcj:"厂家",gysDcxm:"供应商"};
var vm = new Vue({
    el :"#Page",
    data : {
        zcList :[],
        datailList : [],
        showDialog : false
    },
    mounted : function(){
        var loginUserStr = appcan.locStorage.getVal("login_user");
        if(!loginUserStr) {
            return;
        }
        var vm = this;
        sys_common.ajax({
            url : sys_common.rootPath + sys_common.contextPath + "zichan/findByBgrId",
            type : "GET",
            dataType : "json",
            data : {
                bgrId : JSON.parse(loginUserStr).uuid
            },
            success : function(res) {
                vm.zcList = res;
            }
        });
    },
    methods : {
        trClick : function(index) {
            var datailList = [];
            for(var name in this.zcList[index]) {
                if(name in datailColumns) {
                    datailList.push({
                        label : datailColumns[name],
                        value : this.zcList[index][name]
                    });
                }
            }
            this.datailList = datailList;
            this.showDialog = true;
        },
        closeView : function(){
            uexWindow.close();
        }
    }
});

})();
        </script>
    </body>
</html>